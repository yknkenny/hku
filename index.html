<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>URBA6402 Mini-Project by Kenny</title>
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />

        <!-- fontawesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.1.0/js/all.js" crossorigin="anonymous"></script>

        <!-- google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700" rel="stylesheet" type="text/css" />

        <!-- core theme CSS and JS-->
        <link href="css/styles.css" rel="stylesheet" />
        <script src="js/scripts.js"></script>
        <script src="js/config.js"></script>
        <script src="js/obj3d.js"></script>
        <script src="js/flyarray.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

        <!-- mapbox CSS and JS-->
        <link href="https://api.mapbox.com/mapbox-gl-js/v2.7.0/mapbox-gl.css" rel="stylesheet">
        <script src="https://api.mapbox.com/mapbox-gl-js/v2.7.0/mapbox-gl.js"></script>

        <!-- threebox CSS and JS-->
        <!--link href="https://unpkg.com/threebox-plugin/dist/threebox.css" rel="stylesheet" /-->
        <script src="https://unpkg.com/threebox-plugin/dist/threebox.min.js" type="text/javascript"></script>
    </head>
    
    <body id="page-top">

        <!-- navigation bar-->
        <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
            <div class="container">
                <a class="navbar-brand" href="#page-top"><img src="assets/img/navbar-logo.svg" alt="Start Story" /></a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars ms-1"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav text-uppercase ms-auto py-4 py-lg-0">
                        <li class="nav-item"><a class="nav-link" href="#mapp">Map</a></li>
                        <li class="nav-item"><a class="nav-link" href="#services">Why CV?</a></li>
                        <li class="nav-item"><a class="nav-link" href="#portfolio">Methodology</a></li>
                        <li class="nav-item"><a class="nav-link" href="#timeline">timeline</a></li>
                        <li class="nav-item"><a class="nav-link" href="#about">About</a></li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- masthead-->
        <header class="masthead">
            <div class="container">
                <div class="masthead-subheading">Welcome to Kenny's Studio!</div>
                <div class="masthead-heading text-uppercase">It's about Road-side Green and Feature Mapping Using Google Street View (GSV) and ResNet-50 Convolutional Neural Network (CNN)</div>
                <a class="btn btn-primary btn-xl text-uppercase" href="#mapp">Tell Me from Map</a>
            </div>
        </header>

        <!-- map-->
        <section class="page-section" id="mapp">
            <div class="container">
                <div class="text-center">
                    <h2 class="section-heading text-uppercase">Computer Vision for On-street Mapping</h2>
                    <h3 class="section-subheading text-muted"><span class="text-uppercase highlight-yellow">Data visualization:</span>  Using captured trees, plants and road-side features of the West Kowloon Cultural District (WKCD) from GSV and different urban design parameters for simulation and reshaping its uses.</h3>
                    <div id="map"></div>
                    <div id="menu" class="mapboxgl-ctrl"></div>
                    <div id="switcher" class="mapboxgl-ctrl">
                        <button type="button">Satellite</button>
                    </div>
                    <div id="mapfly" class="mapboxgl-ctrl">
                        <button type="button">Fly to Next</button>
                    </div>

                    <script>
                        mapboxgl.accessToken = config.accessToken;
                        
                        // switcher variable
                        var mapStyleArr = [{
                            name: "Color Map",
                            url: 'mapbox://styles/yknkenny/cl14u3pd1008714l9hgf8o1ym'
                        }, {
                            name: "Satellite",
                            url: "mapbox://styles/mapbox/satellite-streets-v11"
                        }, {
                            name: "Chill Map",
                            url: "mapbox://styles/yknkenny/cl1hk317i000z14qb9c6gnjl9"
                        }];
                        //console.log(mapStyleArr.length)

                        // add a map
                        var map = (window.map = new mapboxgl.Map({
                            container: 'map', // container ID
                            style: mapStyleArr[0].url, // style URL
                            center: [114.156455, 22.299903],
                            zoom: 16.5,
                            bearing: 24,
                            pitch: 45,
                            hash: true,
                            antialias: true,
                        }));

                        // add threebox view
                        window.tb = new Threebox(
                            map,
                            map.getCanvas().getContext('webgl'),
                            {
                                defaultLights: true,
                                terrain: true,
                                enableSelectingObjects: true,
                                enableDraggingObjects: true,
                                enableRotatingObjects: true,
                                enableTooltips: true,
                                multiLayer: true, // this will create a default custom layer that will manage a single tb.update
                            }
                        );

                        let items = obj3D.length;
                        let minZoom = 15.5;
                        let maxZoom = 24;
                        let toggleableLayerIds = [];
                       
                        // add zoom and rotation controls to the map
                        map.addControl(new mapboxgl.NavigationControl());
                        
                        // add a full screen for map display
                        map.addControl(new mapboxgl.FullscreenControl());
                        

                        // add map.on(load)
                        map.on('load', () => { 
                            
                            // Create a popup
                            const popup = new mapboxgl.Popup({
                                closeButton: false,
                            });

                            // source from tileset
                            map.addSource('mapbox', {
                                type: 'vector',
                                url: 'mapbox://mapbox.mapbox-streets-v8',
                            });

                            // add extruded 3D buildings layer
                            map.addLayer({
                                'id': '3dbuildings',
                                'source': 'mapbox',
                                'source-layer': 'building',
                                'filter': ['==', 'extrude', 'true'],
                                'type': 'fill-extrusion',
                                'minzoom': 15,
                                'layout': {
                                    'visibility': 'visible',
                                },
                                'paint': {
                                    'fill-extrusion-height': ["get", "height"],
                                    'fill-extrusion-base': 0,
                                    'fill-extrusion-color': 'rgba(164,199,204,1)',
                                    'fill-extrusion-vertical-gradient': true,
                                    'fill-extrusion-opacity': 0.3,                    
                                }
                            });
                            createButtons()
                            

                            // "SWITCHER" button
                            let index = 0;
                            const switcher = document.querySelector("#switcher");
                            switcher.addEventListener("click", ()=> {
                                map.setStyle(mapStyleArr[++index % mapStyleArr.length].url);
                                const button = switcher.querySelector("button");
                                button.textContent = mapStyleArr[(index + 1) % mapStyleArr.length].name;
                            })

                            // load "SWITCHER" on map div
                            const container = document.querySelector(".mapboxgl-ctrl-top-left");
                            //console.log(container)
                            container.append(switcher);


                            // "MAPFLY" button
                            let flyindex = 0; // copy initial status in the 1st row 
                            const mapfly = document.querySelector("#mapfly");
                            mapfly.addEventListener('click', ()=> {
                                ++flyindex;
                                map.flyTo({
                                    center: flyarray[flyindex % flyarray.length].slice(1,3),
                                    zoom: flyarray[flyindex % flyarray.length][3],
                                    bearing: flyarray[flyindex % flyarray.length][4],
                                    pitch: flyarray[flyindex % flyarray.length][5],
                                    speed: flyarray[flyindex % flyarray.length][6],
                                    minZoom: flyarray[flyindex % flyarray.length][7],
                                    essential: true,
                                });
                            });    
                            
                            // load "SWITCHER" on map div
                            container.append(mapfly);


                            // inital config for loading 3D objects
                            for (let j = 1; j <= items; j++) {
                                let l = {
                                    oid: obj3D[j-1][0],
                                    layer: obj3D[j-1][5] + obj3D[j-1][0],
                                    origin: obj3D[j-1].slice(1,3),
                                    height: obj3D[j-1][3],
                                    rY: obj3D[j-1][4],
                                    featype: obj3D[j-1][5],
                                    path: obj3D[j-1][6],
                                }
                                toggleableLayerIds.push(l); //append in array
                            }
                            
                            let i = 0;
                            toggleableLayerIds.forEach((l) => { //call each element in array
                                i++;
                                map.addLayer(createCustomLayer(l.oid, l.layer, l.origin, l.height, l.rY, l.featype, l.path), 'waterway-label');
                                tb.setLayerZoomRange(l.layer, minZoom, maxZoom);
                            });

                            function createCustomLayer(oid, layerId, origin, height, rY, featype, path) {
                                //create the layer
                                let customLayer3D = {
                                    id: layerId,
                                    type: 'custom',
                                    renderingMode: '3d',
                                    onAdd: function (map, gl) {
                                        addModel(oid, layerId, origin, height, rY, featype, path);
                                    },
                                    render: function (gl, matrix) {
                                        //tb.update(); is not needed anymore if multiLayer : true
                                    }
                                };
                                return customLayer3D;
                            };

                            function addModel(oid, layerId, origin, height, rY, featype, path) {
                                let options = {
                                    type: 'gltf',
                                    obj: path, //model url
                                    units: 'meters', //units in the default values are always in meters
                                    scale: height, // set scale using height
                                    rotation: { x: 90, y: rY, z: 0}, //default rotation
                                    anchor: 'center'
                                }
                                tb.loadObj(options, function (model) {
                                    model.setCoords(origin);
                                    let l = map.getLayer(layerId);
                                    model.addTooltip(
                                       "<table id='tooltip3d'>" +
                                        "<tr><th class='th1'>Type:</th>" + "<th class='th2'>" + featype + "</th></tr>" +
                                        "<tr><th class='th1'>Object ID:</th>" + "<th class='th2'>" + oid + "</th></tr>" +
                                        "<tr><th class='th1'>Height:</th>" + "<th class='th2'>" + height + " meters" + "</th></tr>" +
                                        "<tr><th class='th1'>Coordinates:</th>" + "<th class='th2'>" + origin[0] + ", " + origin[1] + "</th></tr>" +
                                        "</table>", true);
                                    tb.add(model, layerId);
                                });
                            }
                        });

                        // button function for toggle 3D buildings
                        function createButtons() {
                            var link = document.createElement('a');
                            link.href = '#';
                            link.className = 'active';
                            link.textContent = '3D Building';

                            link.onclick = function (e) {
                                var clickedLayer = '3dbuildings';
                                e.preventDefault();
                                e.stopPropagation();

                                var visibility = map.getLayoutProperty(clickedLayer, 'visibility');

                                // toggle layer visibility by changing the layout object's visibility property
                                if (visibility === 'visible') {
                                    map.setLayoutProperty(clickedLayer, 'visibility', 'none');
                                    this.className = '';
                                    tb.toggleLayer(clickedLayer, false);

                                } else {
                                    this.className = 'active';
                                    map.setLayoutProperty(clickedLayer, 'visibility', 'visible');
                                    tb.toggleLayer(clickedLayer, true);
                                }
                            };

                            var layers = document.getElementById('menu');
                            layers.appendChild(link);

                             // load "MENU" on map div
                            const container = document.querySelector(".mapboxgl-ctrl-top-left");
                            container.append(menu)
                        }
                    </script>
                </div>
            </div>
        </div>
    </section>
        
        <!-- Services-->
        <section class="page-section bg-light" id="services">
            <div class="container">
                <div class="row text-center">
                    <h2 class="section-heading text-uppercase">Advantages of Computer Vision for Mapping</h2>
                    <h3 class="section-subheading text-muted margin-large-3">Not all road-side features were mapped and opened up (e.g. iB1000 basemap by Lands Department (LandsD). Trees, plants and some less-important street furniture (e.g. sitting benches, tables and lightboxes, etc.) are excluded from iB1000 dataset, but they are essential for understanding the morphology of our city. Computer vision provides an alternative way of acquisition.</h3>
                    <div class="col-md-4">
                        <span class="fa-stack fa-4x margin-large-2">
                            <i class="fas fa-circle fa-stack-2x text-primary"></i>
                            <i class="fas fa-street-view fa-stack-1x fa-inverse fa-flip" style="--fa-animation-duration: 3s;"></i>
                        </span>
                        <h4 class="my-3">Free and Convenient</h4>
                        <p class="text-muted">GSV services are free for use in Google Map. In general, Google tries to take new street-view photos along major trunk roads of major cities once every year. 360-pano images can be downloaded using online tools or programming scripts. Data captured in Feb 2022 in Tiu Keng Leng (調景嶺) have been released.</p>
                    </div>
                    <div class="col-md-4">
                        <span class="fa-stack fa-4x margin-large-2">
                            <i class="fas fa-circle fa-stack-2x text-primary"></i>
                            <i class="fas fa-chart-simple fa-stack-1x fa-inverse fa-beat-fade" style="--fa-animation-duration: 3s;--fa-beat-scale: 1.18;"></i>
                        </span>
                        <h4 class="my-3">Abundant GSV Data</h4>
                        <p class="text-muted">Every 360-pano view covers a series of data and attributes, including 338 pano-tile images, alignment parameters fo cameras and sensors, and physical characteristics of most road-side features. Both geographic locations and dimensions can be estimated through a series of computation processes.</p>
                    </div>
                    <div class="col-md-4">
                        <span class="fa-stack fa-4x margin-large-2">
                            <i class="fas fa-circle fa-stack-2x text-primary"></i>
                            <i class="fas fa-robot fa-stack-1x fa-inverse fa-beat" style="--fa-animation-duration: 3s;--fa-beat-scale: 1.1;"></i>
                        </span>
                        <h4 class="my-3">Mature AI Technologies</h4>
                        <p class="text-muted">Deep learning technologies for computer vision are mature. Open pretrained models (e.g. Common Objects In Context (COCO) dataset riding on ResNet-50 CNN) can be transferred and modified for segmentation and recognition of objects in local context. Computational costs on data training is relatively low.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Methodology Grid-->
        <section class="page-section" id="portfolio">
            <div class="container">
                <div class="text-center">
                    <h2 class="section-heading text-uppercase">'3A-3T' Methodology</h2>
                    <h3 class="section-subheading text-muted">Technologies used for <span class="text-uppercase highlight-yellow">data acquisition</span> and <span class="text-uppercase highlight-yellow">data analytics</span> from GSV pano.</h3>
                </div>
                <div class="row">
                    
                    <!-- Methodology item 1-->
                    <div class="col-lg-4 col-sm-6 mb-4">
                        <div class="portfolio-item">
                            <a class="portfolio-link" data-bs-toggle="modal" href="#portfolioModal1">
                                <div class="portfolio-hover">
                                    <div class="portfolio-hover-content"><i class="fas fa-plus fa-3x"></i></div>
                                </div>
                                <img class="img-fluid" src="assets/img/m1.jpg" alt="...Acquire" />
                            </a>
                            <div class="portfolio-caption">
                                <div class="portfolio-caption-heading">Acquire</div>
                                <div class="portfolio-caption-subheading text-muted">Get GSV 360-pano tile dataset</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Methodology item 2-->
                    <div class="col-lg-4 col-sm-6 mb-4">
                        <div class="portfolio-item">
                            <a class="portfolio-link" data-bs-toggle="modal" href="#portfolioModal2">
                                <div class="portfolio-hover">
                                    <div class="portfolio-hover-content"><i class="fas fa-plus fa-3x"></i></div>
                                </div>
                                <img class="img-fluid" src="assets/img/m2.jpg" alt="..." />
                            </a>
                            <div class="portfolio-caption">
                                <div class="portfolio-caption-heading">Advance</div>
                                <div class="portfolio-caption-subheading text-muted">Dig out sensor and depth information</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Methodology item 3-->                    
                    <div class="col-lg-4 col-sm-6 mb-4">
                        <div class="portfolio-item">
                            <a class="portfolio-link" data-bs-toggle="modal" href="#portfolioModal3">
                                <div class="portfolio-hover">
                                    <div class="portfolio-hover-content"><i class="fas fa-plus fa-3x"></i></div>
                                </div>
                                <img class="img-fluid" src="assets/img/m3.jpg" alt="..." />
                            </a>
                            <div class="portfolio-caption">
                                <div class="portfolio-caption-heading">Assemble</div>
                                <div class="portfolio-caption-subheading text-muted">Stitch up all 360-pano tiles</div>
                            </div>
                        </div>
                    </div>

                    <!-- Methodology item 4-->
                    <div class="col-lg-4 col-sm-6 mb-4 mb-lg-0">                        
                        <div class="portfolio-item">
                            <a class="portfolio-link" data-bs-toggle="modal" href="#portfolioModal4">
                                <div class="portfolio-hover">
                                    <div class="portfolio-hover-content"><i class="fas fa-plus fa-3x"></i></div>
                                </div>
                                <img class="img-fluid" src="assets/img/m4.jpg" alt="..." />
                            </a>
                            <div class="portfolio-caption">
                                <div class="portfolio-caption-heading">Train</div>
                                <div class="portfolio-caption-subheading text-muted">Transfer and optimize pretrained model with local contexts</div>
                            </div>
                        </div>
                    </div>

                    <!-- Methodology item 5-->
                    <div class="col-lg-4 col-sm-6 mb-4 mb-sm-0">                        
                        <div class="portfolio-item">
                            <a class="portfolio-link" data-bs-toggle="modal" href="#portfolioModal5">
                                <div class="portfolio-hover">
                                    <div class="portfolio-hover-content"><i class="fas fa-plus fa-3x"></i></div>
                                </div>
                                <img class="img-fluid" src="assets/img/m5.jpg" alt="..." />
                            </a>
                            <div class="portfolio-caption">
                                <div class="portfolio-caption-heading">Transit</div>
                                <div class="portfolio-caption-subheading text-muted">Make use of trained model for object segmentation and recognition</div>
                            </div>
                        </div>
                    </div>

                    <!-- Methodology item 6-->
                    <div class="col-lg-4 col-sm-6">
                        <div class="portfolio-item">
                            <a class="portfolio-link" data-bs-toggle="modal" href="#portfolioModal6">
                                <div class="portfolio-hover">
                                    <div class="portfolio-hover-content"><i class="fas fa-plus fa-3x"></i></div>
                                </div>
                                <img class="img-fluid" src="assets/img/m6.jpg" alt="..." />
                            </a>
                            <div class="portfolio-caption">
                                <div class="portfolio-caption-heading">Transform</div>
                                <div class="portfolio-caption-subheading text-muted">Bring forward local 2D GSV coordinates to a real 3D world</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Timeline Development-->
        <section class="page-section bg-light" id="timeline">
            <div class="container">
                <div class="text-center">
                    <h2 class="section-heading text-uppercase">Timeline</h2>
                    <h3 class="section-subheading text-muted margin-large-3">Development timeline for on-street object segmentation, recognition and mapping using GSV and ResNet-50 CNN provides here.</h3>
                </div>
                <ul class="timeline">
                    <li>
                        <div class="timeline-image"><img class="rounded-circle img-fluid" src="assets/img/t1.jpg" alt="..." /></div>
                        <div class="timeline-panel">
                            <div class="timeline-heading">
                                <h4>2013-2014</h4>
                                <h4 class="subheading">Humble Beginnings</h4>
                            </div>
                            <div class="timeline-body"><p class="text-muted">A problem came to my development team in disseminating a series of site inspection 360-pano images for internal use. A web-based Geographic Information System (GIS) prototype was hence developed to browse 360-pano images using <!--a href="https://krpano.com/"-->Krpano</a>.</p></div>
                        </div>
                    </li>
                    <li class="timeline-inverted">
                        <div class="timeline-image"><img class="rounded-circle img-fluid" src="assets/img/t2.jpg" alt="..." /></div>
                        <div class="timeline-panel">
                            <div class="timeline-heading">
                                <h4>2014-2015</h4>
                                <h4 class="subheading">Research and Development</h4>
                            </div>
                            <div class="timeline-body"><p class="text-muted">Inspired by an innovative web application called "Urban Jungle Street View", a team of three attempted to understand through deductive reasoning how Google processed, stored and disseminated camera, sensor and geographic information of each spherical view through the Internet effectively.</p></div>
                        </div>
                    </li>
                    <li>
                        <div class="timeline-image"><img class="rounded-circle img-fluid" src="assets/img/t3.jpg" alt="..." /></div>
                        <div class="timeline-panel">
                            <div class="timeline-heading">
                                <h4>February 2015</h4>
                                <h4 class="subheading">Augmented Reality (AR)</h4>
                            </div>
                            <div class="timeline-body"><p class="text-muted">Invited to participate in a collaborative project between Energizing Kowloon East Office (EKEO) and LandsD to explore use of emerging technologies (e.g. AR and indoor positioning, etc.) to improve walkability, enhance environment and connect to the community of Kowloon East.</p></div>
                        </div>
                    </li>
                    <li class="timeline-inverted">
                        <div class="timeline-image"><img class="rounded-circle img-fluid" src="assets/img/t4.jpg" alt="..." /></div>
                        <div class="timeline-panel">
                            <div class="timeline-heading">
                                <h4>2015-2016</h4>
                                <h4 class="subheading">Project Tango Prototype</h4>
                            </div>
                            <div class="timeline-body"><p class="text-muted">Being selected to be the first batch of developers to participat in the Google Project Tango, and explored feasibility of adopting the Simultaneous Localization and Mapping (SLAM) technology for indoor and outdoor spatial data acquisition through the Project Tango tablet prototype.</p></div>
                        </div>
                    </li>
                    <li>
                        <div class="timeline-image"><img class="rounded-circle img-fluid" src="assets/img/t5.jpg" alt="..." /></div>
                        <div class="timeline-panel">
                            <div class="timeline-heading">
                                <h4>2016-2018</h4>
                                <h4 class="subheading">Extended Applications</h4>
                            </div>
                            <div class="timeline-body"><p class="text-muted">My team continued development works for various web-based and mobile GIS projects and integrated different open-sourced packages, libraries and solutions (e.g. web viewers for 3D, BIM, UAV meshes and point clouds, etc.) to support internal operation.</p></div>
                        </div>
                    </li>
                    <li class="timeline-inverted">
                        <div class="timeline-image"><img class="rounded-circle img-fluid" src="assets/img/t6.jpg" alt="..." /></div>
                        <div class="timeline-panel">
                            <div class="timeline-heading">
                                <h4>September 2020</h4>
                                <h4 class="subheading">Knowledge Expansion</h4>
                            </div>
                            <div class="timeline-body"><p class="text-muted">Given an opportunity to be enrolled in Master programme of Urban Analytics (HKU) to acquire the state-of-the-art data acquisition and analytics technologies.</p></div>
                        </div>
                    </li>
                    <li>
                        <div class="timeline-image"><img class="rounded-circle img-fluid" src="assets/img/t7.jpg" alt="..." /></div>
                        <div class="timeline-panel">
                            <div class="timeline-heading">
                                <h4>2021-Now</h4>
                                <h4 class="subheading">'40' is the New Twenty</h4>
                            </div>
                            <div class="timeline-body"><p class="text-muted">Started a research project to migrate existing web GIS projects/applications to adopt the new 3D tile map services. 3D visualization map in this mini-project adopts Mapbox and three.js solutions. This prototype can be extended to other urban design and reimaging projects that facilitate public participation with aid of interactive 3D modelling through the Internet.</p></div>
                        </div>
                    </li>
                    <li class="timeline-inverted">
                        <div class="timeline-image">
                            <h4>
                                Be Part
                                <br />
                                Of My
                                <br />
                                Story!
                            </h4>
                        </div>
                    </li>
                </ul>
            </div>
        </section>
       
        <!-- About Me-->
        <section class="page-section" id="about">
            <div class="container">
                <div class="text-center">
                    <h2 class="section-heading text-uppercase">About Me</h2>
                    <h3 class="section-subheading text-muted"> </h3>
                </div>
                    <div class="col-lg-5">
                        <div class="team-member">
                            <img class="mx-auto rounded-circle" src="assets/img/kenny.jpg" alt="..." />
                            <h4>Kenny Yiu</h4>
                            <p class="text-muted">HKU Student; Senior Land Surveyor, LandsD</p>
                            <a class="btn btn-dark btn-social mx-2" href="tel:+852xxxxxxxx" aria-label="Kenny Yiu Work Phone"><i class="fas fa-phone"></i></a>
                            <a class="btn btn-dark btn-social mx-2" href="mailto:slsxxxx@landsd.gov.hk" aria-label="Kenny Yiu Email Address"><i class="fas fa-at"></i></a>
                            <a class="btn btn-dark btn-social mx-2" href="https://github.com/xxxxxxxx" aria-label="Kenny Yiu GitHub"><i class="fab fa-github-alt"></i></a>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-8 mx-auto text-center"><p class="large text-muted">A part-time Master's student enrolled in Urban Analytics of HKU, and a full-time employee in LandsD participating in different GIS projects, research of development, and formulation of spatial data standards to support overall development of Common Spatial Data Infrastructure (CSDI) in Hong Kong.</div>
                </div>
            </div>
        </section>

        <!-- Clients-->
        <div class="py-5 bg-light">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-3 col-sm-6 my-3">
                        <a href="https://pytorch.org/"><img class="img-fluid img-brand d-block mx-auto" src="assets/img/pytorch.svg" alt="..." aria-label="PyTorch Logo" /></a>
                    </div>
                    <div class="col-md-3 col-sm-6 my-3">
                        <a href="https://developers.google.com/maps"><img class="img-fluid img-brand d-block mx-auto" src="assets/img/google.svg" alt="..." aria-label="Google Logo" /></a>
                    </div>
                    <div class="col-md-3 col-sm-6 my-3">
                        <a href="https://www.mapbox.com"><img class="img-fluid img-brand d-block mx-auto" src="assets/img/mapbox.svg" alt="..." aria-label="Mapbox Logo" /></a>
                    </div>
                    <div class="col-md-3 col-sm-6 my-3">
                        <a href="https://threejs.org/"><img class="img-fluid img-brand d-block mx-auto" src="assets/img/3js.svg" alt="..." aria-label="Three.js Logo" /></a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer-->
        <footer class="footer py-4">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-4 text-lg-start">Copyright &copy; Kenny 2022</div>
                    <div class="col-lg-4 my-3 my-lg-0"></div>
                    <div class="col-lg-4 text-lg-end">CREDITS to Unsplash for Photos</div>
                </div>
            </div>
        </footer>

        <!-- Methodology Modals-->

        <!-- Methodology item 1 modal popup-->
        <div class="portfolio-modal modal fade" id="portfolioModal1" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="close-modal" data-bs-dismiss="modal"><img src="assets/img/close-icon.svg" alt="Close modal" /></div>
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <div class="modal-body">
                                    <!-- Project details-->
                                    <h2 class="text-uppercase">Data Acquisition</h2>
                                    <p class="item-intro text-muted margin-large-1">Batch collection of GSV panoramas</p>
                                    <img class="img-fluid d-block mx-auto" src="assets/img/m1a.jpg" alt="...batch download" />
                                    <p class="line-height-1"><i>(Picture: Thumbnails of 360-pano tiles of WKCD area)</i></p>
                                    <p class="line-height-1">The first step is to grab all GSV 360-pano tiles along trunk roads and footpaths of WKCD areas using the Python scripts. Google Map API will direct every trial to the nearest available GSV nodal point for tile download automatically.</p>
                                    <ul class="list-inline">
                                        <li class="text-start margin-large-1">
                                            <strong>Characteristics of GSV Spherical View:</strong>
                                            Each spherical view contains <span class="highlight-green">13 (V) x 26 (H) tiles, i.e. 338 tiles</span>, of each consists of 512 x 512 pixels. Each view and tile are labelled with unique 'PanoID(s)' accompanied with a pair of 'X' (from 0 to 25) and 'Y' (from 0 to 12) tile numbers.
                                        </li>
                                        <li class="text-start margin-large-1">
                                            <strong>No. of GSV Tiles Downloaded:</strong>
                                            Downloaded <span class="highlight-green">324,142 tiles (958 x 338) of WKCD areas in four days</span>.
                                        </li>
                                        <li class="text-start margin-large-1">
                                            <strong>Attention to Developers:</strong>
                                            <span class="highlight-green">Google will block the download services</span> for prolonged uses. Developers are advised to consolidate a 'distint' coordinate list before the action to shorten the overall download time and avoid being blocked.
                                        </li>
                                    </ul>
                                    <button class="btn btn-primary btn-xl text-uppercase" data-bs-dismiss="modal" type="button">
                                        <i class="fas fa-xmark me-1"></i>
                                        Close
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Methodology item 2 modal popup-->
        <div class="portfolio-modal modal fade" id="portfolioModal2" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="close-modal" data-bs-dismiss="modal"><img src="assets/img/close-icon.svg" alt="Close modal" /></div>
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <div class="modal-body">
                                    <!-- Project details-->
                                    <h2 class="text-uppercase">Data Exploitation</h2>
                                    <p class="item-intro text-muted margin-large-1">Unleashing other GSV attributes</p>
                                    <img class="img-fluid d-block mx-auto" src="assets/img/m2a.jpg" alt="..." />
                                    <p class="line-height-1"><i>(Picture: Newsletters reported by OBSERVER, URL: https://observer.com/2014/03/new-york-city-gets-a-jungle-book-makeover-with-google-street-view-hack/)</i></p>
                                    <p class="line-height-1">The next step is to retrieve all essential parameters for rectificaiton and geolocaiton processes of GSV 360-pano images from XML files of respective 'PanoID' in the later stages.</p>
                                    <ul class="list-inline">
                                        <li class="text-start margin-large-1">
                                            <strong>GSV Attributes:</strong>
                                            Each GSV 360-pano shot contains at least one 'PanoID(s)' storing all essential parameters for rectification and geolocation in GSV applications, including <span class="highlight-green">geographic coordinates in WGS84 latitude and longitude</span>, elevation with respect to the WGS84 and EGM96 models, house numbers, street names, regions and countries, <span class="highlight-green">camera tilt, pitch and yaw values</span>, encrypted <span class="highlight-green">depth maps</span>, etc.
                                        </li>
                                        <li class="text-start margin-large-1">
                                            <strong>Characteristics of Depth Map:</strong>
                                            An encrypted depth map in a 256-by-512 array stores all depth information with respect to respective 360-pano view for geolocation purpose. The <span class="highlight-green">depth map</span> and <span class="highlight-green">surface normal vectors</span> of detected objects were <span class="highlight-green">were successfully unlocked by a Swedish developer</span> and transferred to an "Urban Jungle Street View" application for urban green and landscape design in some major cities around the world in 2014. Some opened <!--a href="https://stackoverflow.com/questions/52790436/convert-depth-map-base64-of-google-street-view-to-image"-->decryption libraries for Java and Python launguages are available.
                                        </li>
                                    </ul>
                                    <button class="btn btn-primary btn-xl text-uppercase" data-bs-dismiss="modal" type="button">
                                        <i class="fas fa-xmark me-1"></i>
                                        Close
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Methodology item 3 modal popup-->
        <div class="portfolio-modal modal fade" id="portfolioModal3" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="close-modal" data-bs-dismiss="modal"><img src="assets/img/close-icon.svg" alt="Close modal" /></div>
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <div class="modal-body">
                                    <!-- Project details-->
                                    <h2 class="text-uppercase">Data Assembling</h2>
                                    <p class="item-intro text-muted margin-large-1">Stitching  all 360-pano tiles for deep learning and mapping</p>
                                    <img class="img-fluid d-block mx-auto" src="assets/img/m3a.jpg" alt="..." />
                                    <p class="line-height-1"><i>(Picture: Depth map in 256 x 512 pixel (top), and downsized spherical image in 256 x 512 pixels (bottom))</i></p>
                                    <p class="line-height-1">The last step for data acquistion and pre-procesing is to merge all 13 (V) x 26 (H) tiles of each spherical view to a single spherical image, consisting of <span class="highlight-green">6,656 x 13,312 pixels</span>, for subsequent data training, object segmentation and mapping purposes.</p>
                                    <ul class="list-inline">
                                        <li class="text-start margin-large-1">
                                            <strong>Data Misalignment Problem:</strong>
                                            <span class="highlight-green">The upper tiles contaiing full/half sky and high-rise buildings are frequently not perfectly stitched well</span> owing to non-conformality of GSV camera and sensor parameters. You may apply both geometric and radiometric corrections to adjust them, or removed them from the pool to avoid affecting the overall accuracy.
                                        </li>
                                    </ul>
                                    <button class="btn btn-primary btn-xl text-uppercase" data-bs-dismiss="modal" type="button">
                                        <i class="fas fa-xmark me-1"></i>
                                        Close
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Methodology item 4 modal popup-->
        <div class="portfolio-modal modal fade" id="portfolioModal4" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="close-modal" data-bs-dismiss="modal"><img src="assets/img/close-icon.svg" alt="Close modal" /></div>
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <div class="modal-body">
                                    <!-- Project details-->
                                    <h2 class="text-uppercase">Model Training</h2>
                                    <p class="item-intro text-muted margin-large-1">Using local data to train dataset</p>
                                    <img class="img-fluid d-block mx-auto" src="assets/img/m4a.jpg" alt="..." />
                                    <p class="line-height-1"><i>(Picture: Training results after inclusion of local data)</i></p>
                                    <p class="line-height-1">The matrix of COCO dataset riding on the ResNet-50 CNN was transffered and modified for object segmentation and recognition for this mini-project. Different sizes of trees and plants were identified and lablled for further model training and examination.</p>
                                    <ul class="list-inline">
                                        <li class="text-start margin-large-1">
                                            <strong>Training Dataset:</strong>
                                            About 100 trees and plants in Tiu Keng Leng, Kowloon East, were identified and labelled.
                                        </li>
                                        <li class="text-start margin-large-1">
                                            <strong>General Results:</strong>
                                            Only <span class="highlight-green">10 complete pass of the training dataset</span> (i.e. 10th epoch training) on top of the ResNet-50 CNN algorithm was conducted. The <span class="highlight-green">larger objects</span> generally <span class="highlight-green">get higher intersection over union (IOU)</span> compared to the smaller objects.
                                        </li>
                                        <li class="text-start margin-large-1">
                                            <strong>Model Performance:</strong>
                                            The ratio of model training to testing is 7 to 3. Random split for 10 times was performed to avoid sampling bias. Only trees and plants with IOU scores over 0.8 is accepted. The <span class="highlight-green">model accuracy is about 0.7</span>.
                                        </li>
                                    </ul>
                                    <button class="btn btn-primary btn-xl text-uppercase" data-bs-dismiss="modal" type="button">
                                        <i class="fas fa-xmark me-1"></i>
                                        Close
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Methodology item 5 modal popup-->
        <div class="portfolio-modal modal fade" id="portfolioModal5" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="close-modal" data-bs-dismiss="modal"><img src="assets/img/close-icon.svg" alt="Close modal" /></div>
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <div class="modal-body">
                                    <!-- Project details-->
                                    <h2 class="text-uppercase">Object Recognition</h2>
                                    <p class="item-intro text-muted margin-large-1">Using training results to detect on-street features</p>
                                    <img class="img-fluid d-block mx-auto" src="assets/img/m5a.jpg" alt="..." />
                                    <p class="line-height-1"><i>(Picture: Object segmentation and recognition results of one GSV spherical view along Nga Cheung Road (雅翔道), Kowloon West)</i></p>
                                    <p class="line-height-1">All 360-pano images of WKCD area were loaded to the model for object segmentation and multi-class recognition. The positions, heights and spreads of trees and plants with respect to respective spherical images can be estimated from the boundary boxes.</p>
                                    <ul class="list-inline">
                                        <li class="text-start margin-large-1">
                                            <strong>General Results:</strong>
                                            <span class="highlight-green">Over 200 objects were recognized</span> from GSV images. The tallest and shortest trees and plants are over 15 meters and 3 meters respectively.
                                        </li>
                                        <li class="text-start margin-large-1">
                                            <strong>Further Processing:</strong>
                                            Repeated but same feature might be recognized from different 360-pano views. An algorithm was applied to remove all repeated features, e.g. setting spatial tolerance of features owing very simliar geometric values, etc.
                                        </li>
                                    </ul>
                                    <button class="btn btn-primary btn-xl text-uppercase" data-bs-dismiss="modal" type="button">
                                        <i class="fas fa-xmark me-1"></i>
                                        Close
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Methodology item 6 modal popup-->
        <div class="portfolio-modal modal fade" id="portfolioModal6" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="close-modal" data-bs-dismiss="modal"><img src="assets/img/close-icon.svg" alt="Close modal" /></div>
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <div class="modal-body">
                                    <!-- Project details-->
                                    <h2 class="text-uppercase">Object Transfer</h2>
                                    <p class="item-intro text-muted margin-large-1">Transferring recognized objects to 3D world</p>
                                    <img class="img-fluid d-block mx-auto line-height-1" src="assets/img/m6.jpg" alt="..." />
                                    <!--p class="line-height-1">Use this area to describe your project. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Est blanditiis dolorem culpa incidunt minus dignissimos deserunt repellat aperiam quasi sunt officia expedita beatae cupiditate, maiores repudiandae, nostrum, reiciendis facere nemo!</p>
                                    <ul class="list-inline">
                                        <li class="text-start margin-large-1">
                                            <strong>Client:</strong>
                                            Window
                                        </li>
                                        <li class="text-start margin-large-1">
                                            <strong>Category:</strong>
                                            Photography
                                        </li>
                                    </ul-->
                                    <button class="btn btn-primary btn-xl text-uppercase" data-bs-dismiss="modal" type="button">
                                        <i class="fas fa-xmark me-1"></i>
                                        Close
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
